## 아이디어
Bitmask  
  
각 기차의 상태를 이진수로 나타낼 수 있다  
(사람이 있는 자리는 1, 없는 자리는 0)  
한 기차당 사람은 20명 까지 타기 때문에  
한 기차에 최대로 탈 수 있는 사람(모든 사람 탑승)은  
다음과 같이 표현됨  
`11111111111111111111(2)` = `2^20 - 1`  
  
즉, `2^20` 보다 같거나 작은 정수 하나로 기차 상태 하나를 정의할 수 있다.  
→ `int` 정수 하나로 기차 한 대 상태를 정의할 수 있다.  
  
기차 상태들을 저장할 배열 `int train[]`
```c
int N, M, train[100001]={0, };
scanf("%d%d", &N, &M);
```
`M`개의 명령들을 입력 받고 명령을 수행
```c
int cmd, i, x, bin, j;
while(M--) {
	scanf("%d%d", &cmd, &i);
	if(cmd==1||cmd==2) {
		scanf("%d", &x);
		bin=1;  //000 … 01
		for(j=0 ; j<20-x ; j++) //x번째 비트만 1로 만듦
			bin<<=1;
		if(cmd==1)
			train[i]|=bin;
		else if(cmd==2)
			train[i]&=~bin;
	} else if(cmd==3) //오른쪽으로 이동되고 끝에있던 1비트는 자연스레 소멸
		train[i]>>=1;
	else if(cmd==4) {
		train[i]<<=1; //왼쪽으로 이동되고 왼쪽끝(2^20)의 1비트(오버플로)를 없애줘야함
		bin=1048576;  //1 00000 00000 00000 00000
		train[i]&=~bin;
	}
}
```
중복되지 않는 기차를 센다
```c
int visited[1048576]={0, }, cou=0;
for(i=1 ; i<=N ; i++)
	if(!visited[train[i]]) {
		visited[train[i]]=1;
		cou++;
	}
```
