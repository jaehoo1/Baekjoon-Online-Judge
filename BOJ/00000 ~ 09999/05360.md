# [5360 : Next Permutation](https://www.acmicpc.net/problem/5360)
https://www.acmicpc.net/problem/5360

## 문제
정수 A가 주어졌을 때 A를 이루는 숫자들로 이루어진 순열 중 A 다음으로 큰 수를 찾는 문제

## 아이디어
Backtracking(Brute Force), Greedy, String, Implementation

수 제한이 컸으면(문자열이 길었으면) Brute Force는 해결책이 되지 못하는데, 수의 길이가 짧아 모든 순열을 뽑는 방법이 가능하다.

순열을 생성하는 로직을 구현하고
```java
static Set<String> permutations;

/**
 * 재귀를 통해 순열을 생성
 *
 * @param chars 수를 이루는 숫자들
 * @param tree 현재까지 쌓은 스택 트리
 * @param visited 스택 트리에 넣은 숫자 표시 배열
 * @param depth 숫자가 들어갈 트리 깊이
 * @param length 수 길이
 */
static void recur(char[] chars, char[] tree, boolean[] visited, int depth, int length) {

    if (depth == length) {
        permutations.add(new String(tree));
        return;
    }
    for (int i = 0; i < length; i++) {
        if (visited[i]) {
            continue;
        }
        visited[i] = true;
        tree[depth] = chars[i];
        recur(chars, tree, visited, depth + 1, length);
        visited[i] = false;
    }
}
```

이를 통해 모든 순열을 뽑는다.
```java
/**
 * 재귀함수를 호출해 모든 순열 생성
 *
 * @param chars 수를 이루는 숫자들
 * @return 숫자들로 이루어진 정렬된 전체 순열
 */
static List<String> getPermutations(char[] chars) {

    permutations = new HashSet<>();
    recur(chars, new char[chars.length], new boolean[chars.length], 0, chars.length);
    return permutations.stream().sorted().collect(Collectors.toList());
}

static List<String> getPermutations(String s) {
    return getPermutations(s.toCharArray());
}
```

입력되는 수(문자열)마다 순열 리스트를 생성해 다음 수를 찾는다.
```java
/**
 * 순열 리스트에서 A에 해당하는 다음 원소 찾기
 *
 * @param permutations 순열 리스트
 * @param A 다음 원소 찾을 원소
 * @return 다음 원소, 없으면 USELESS
 */
static String findNext(List<String> permutations, String A) {

    int index = permutations.indexOf(A);
    if (index + 1 == permutations.size()) {
        return "USELESS";
    }
    return permutations.get(index + 1);
}

static String findNext(String A) {
    return findNext(getPermutations(A), A);
}


BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));

int T = Integer.parseInt(br.readLine());
while (T-- > 0) {
    bw.write(findNext(br.readLine()) + "\n");
}
```